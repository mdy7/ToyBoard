<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/header :: header" />
<style>
  .fieldError {
    border-color: #bd2130;
  }
</style>
<body>
<div class="container">
  <div th:replace="fragments/bodyHeader :: bodyHeader"/>
  <div class="container" style="margin-top:30px">
    <div class="row">
      <div class="col-sm-12">
        <div class="form-group">
          <h5 th:text="'제목 : ' + ${board.title}"></h5>
        </div>
        <div>
          <td th:text="'작성자 : ' + ${board.createdBy}"></td>
          <br><br>
        </div>
        <h5> 내용 </h5>
        <div>
          <dl>
            <dd th:text="${board.content}"></dd>
          </dl>
        </div>
      </div>
    </div>
    <br>
    <button type="button" class="btn btn-primary" onclick="location.href='/board/boardList/'">목록으로</button>
    <button type="button" class="btn btn-primary"
            th:if="${board.createdBy eq session.username}"
            th:onclick="|location.href='/board/boardUpdate/' + ${board.id}|">수정
    </button>
    <button type="button" class="btn btn-primary" th:if="${board.createdBy eq session.username or session.username eq 'admin'}"
            th:onclick="|location.href='/board/boardDelete/' + ${board.id}|">삭제</button>
  </div>
<!--댓글-->
  <div class="card mt-3">
    <div class="card-body">
      <h5 class="card-title">댓글 작성</h5>
      <form th:action="@{'/board/boardContent/' + ${board.id}}" method="post">
        <input type="hidden" th:name="boardId" th:value="${board.id}" />
        <textarea class="form-control" id="content" rows="3" name="content" placeholder="댓글을 작성하세요"></textarea>
        <button type="submit" class="btn btn-dark mt-3">댓글 작성</button>
      </form>
    </div>
  </div>
  <!-- 댓글 목록 -->
  <div class="card mt-3">
    <div class="card-body">
      <h5 class="card-title">댓글 목록</h5>
      <ul class="list-group list-group-flush">
        <li class="list-group-item" th:each="comment : ${comments}">
          <strong th:text="${comment.getCreatedBy}"></strong>: <span th:text="${comment.content}"></span>
        </li>
      </ul>
    </div>
  </div>
<!--  댓글-->
  <br/>
  <div th:replace="fragments/footer :: footer" />
</div> <!-- /container -->
</body>
</html>